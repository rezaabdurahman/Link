# Redis Slave Configuration for High Availability

# Include master configuration as base
include /usr/local/etc/redis/redis-master.conf

# Override specific settings for slave

# Network Configuration
syslog-ident redis-slave

# Replication Configuration
# Specify the master server this slave will replicate from
replicaof redis-master 6379

# Authentication for master connection (if master requires auth)
# masterauth <password>

# Slave Configuration
replica-serve-stale-data yes
replica-read-only yes
replica-lazy-flush no

# Replication Settings
repl-diskless-sync no
repl-diskless-sync-delay 5
repl-ping-replica-period 10
repl-timeout 60
repl-disable-tcp-nodelay no
repl-backlog-size 1mb
repl-backlog-ttl 3600

# Priority for Sentinel (lower value = higher priority for promotion)
replica-priority 100

# Minimum number of slaves that should be connected for master to accept writes
# min-replicas-to-write 1
# min-replicas-max-lag 10

# Security (should match master if used)
# requirepass <password>

# Persistence (usually disabled on slaves to save resources)
# save ""
# appendonly no

# Memory (can be lower than master if used only for failover)
# maxmemory <bytes>

# Announce IP/Port for Sentinel (useful in Docker/NAT environments)
# replica-announce-ip <ip>
# replica-announce-port <port>
